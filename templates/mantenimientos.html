{% extends "base.html" %}

{% block content %}

<h2 class="mb-3">Mantenimientos</h2>

<div class="card p-4 shadow-sm mb-4">
    <h4>Registrar Mantenimiento</h4>

    <form action="/mantenimientos/add" method="POST">
        <div class="row mt-3">

            <div class="col-md-3">
                <label>Equipo</label>
                <select name="equipo" class="form-control" required>
                    {% for e in equipos %}
                    <option value="{{ e.id }}">
                        {{ e.nombre }} - {{ e.marca }}
                    </option>
                    {% endfor %}
                </select>
            </div>

            <div class="col-md-3">
                <label>Tipo</label>
                <select name="tipo" class="form-control">
                    <option>Preventivo</option>
                    <option>Correctivo</option>
                </select>
            </div>

            <div class="col-md-3">
                <label>Estado</label>
                <select name="estado" class="form-control">
                    <option>En proceso</option>
                    <option>Finalizado</option>
                    <option>Entregado</option>
                </select>
            </div>

            <div class="col-md-3">
                <label>Piezas</label>
                <input type="text" name="piezas" class="form-control">
            </div>

        </div>

        <div class="row mt-3">

            <div class="col-md-4">
                <label>Descripci√≥n</label>
                <input type="text" name="desc" class="form-control">
            </div>

            <div class="col-md-4">
                <label>Fecha Ingreso</label>
                <input type="date" name="ingreso" class="form-control">
            </div>

            <div class="col-md-4">
                <label>Fecha Entrega</label>
                <input type="date" name="entrega" class="form-control">
            </div>

        </div>

        <div class="row mt-3">
            <div class="col-md-3">
                <label>Costo</label>
                <input type="number" step="0.01" name="costo" class="form-control">
            </div>
        </div>

        <button class="btn btn-primary mt-3">Guardar</button>
    </form>
</div>

<!-- Tabla -->
<table class="table table-striped table-bordered shadow-sm">
    <thead class="table-dark">
        <tr>
            <th>ID</th>
            <th>Cliente</th>
            <th>Equipo</th>
            <th>Tipo</th>
            <th>Estado</th>
        </tr>
    </thead>

    <tbody>
        {% for m in mant %}
        <tr>
            <td>{{ m.id }}</td>
            <td>{{ m.cliente }}</td>
            <td>{{ m.marca }}</td>
            <td>{{ m.tipo }}</td>
            <td>{{ m.estado }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}
